<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript">
        // constructeur de l'objet Personne
        function Personne(prenom, nom, age, sexe, loisirs) {
            this.nom = {
                prenom,
                nom
            };
            this.age = age;
            this.sexe = sexe;
            this.loisirs = loisirs;
            this.sexe == "M" || this.sexe == "m" ? this.pronom = "Il" : this.pronom = "Elle";
            this.bio = function() {
                // this.allLoisirs = '';
                // for (let i = 0; i < this.loisirs.length; i++) {
                //     i + 1 < this.loisirs.length ? this.allLoisirs += loisirs[i] + ', ' : this.allLoisirs += ' et ' + loisirs[i] + '.';
                // }
                // alert(this.nom.prenom + ' ' + this.nom.nom + ' a ' + this.age + ' ans. ' + this.pronom + ' aime ' + this.allLoisirs);
                alert(this.nom.prenom + ' ' + this.nom.nom + ' a ' + this.age + ' ans. ' + this.pronom + ' aime ' + this.loisirs.join(" et ") + '.');

            }
        }

        // On crée monPerso qui a pour constructeur/schéma/plan/blueprint/etc... l'objet Personne
        let monPerso = new Personne("Joel", "Godenir", 30, "M", ["Jeux vidéos", "Informatique", "Programmation"]);
        monPerso.bio(); // Appel méthode bio()

        // Ajout d'une méthode à l'objet Personne
        Personne.prototype.occupation = function(occupation) {
            this.occupation = occupation;
        }

        monPerso.occupation("Développeur Programmeur"); // Appel méthode occupation()
        alert(monPerso.occupation); // Affichage propriété occupation


        // On crée un objet Joel avec un constructeur à la volée
        let joel = new Object({
            prenom: "Joel ",
            nom: "Godenir",
            age: 30,
            bonjour: function() {
                alert("Hello les boys! Je m'appelle " + this.prenom + " " + this.nom + ".");
            }
        });

        // On ajoute une propriété à cet objet
        joel.loisirs = ["Jeux vidéos", "Informatique", "Programmation"];
        // joel.loisirs = "Jeux vidéos";

        // On ajoute une méthode à cet objet
        joel.affLoisirs = function() {
            this.loisirs.length == 1 ? alert("Mon loisir est " + this.loisirs + ".") : alert("Mes loisirs sont " + this.loisirs.join(", ") + ".");
        }

        joel.bonjour(); // Appel méthode construite initialement
        joel.affLoisirs(); // Appel méthode ajoutée
    </script>
</head>

<body>

</body>

</html>